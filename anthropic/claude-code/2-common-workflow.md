# Common workflows

## 快速了解整个项目

1. 提问的方式从广泛到具体，先了解整个项目的大体情况，然后锁定要了解的具体的模块

2. 了解这个项目中使用的代码规范和模式

3. 获取一份项目特定术语表

## 寻找相关代码

1. 先找到相关的文件

2. 这些文件之间是如何交互

3. 具体的执行过程是怎样的


## 高效地修复bug

1. 将错误信息分享给Claude

2. 寻找修复建议

3. 选择其中一个建议进行修复

> 最好将能够重现这个错误的命令告诉Claude，并让它获得报错信息的整个堆栈信息
> 详细地表述导致错误发生的每个步骤
> 其实就和正常人之间沟通的逻辑一样


## 代码重构

使用新的模式和最佳实践重构旧代码

1. 先锁定需要重构代码的范围

2. 向Claude寻求重构代码的建议

3. 告诉Claude安全地执行其中一个建议，要求代码行为和原来的保持一致

4. 验证重构之后的代码

> 先让Claude解释使用新方法重构带来的好处。
> 根据需要保持代码兼容性
> 重构要从小的且可测试的开始，渐进式地推进


## 使用特定的子代理完成特定的任务将会更加地高效

在创建子代理的时候，要有明确的角色以及清晰的职责描述

## 测试

1. 确定测试的范围

2. 生成测试脚手架

3. 添加有意义的测试用例 （包括边界情况）

4. 验证测试用例

> 确认Claude的测试策略
> 尽可能地覆盖边界和错误发生的情况
> 出了单元测试，同步的集成测试也可以一样

## create pull request


1. 总结发生的变化内容
2. 创建一个pr
3. 检查和完善pr的内容
4. 添加测试的细节，描述这些变动是如何经过有效测试

> 着重标出本次变动可能带来的风险


## 文档

1. 确定需要生成文档的代码范围

2. 生成文档

3. 检查与优化

4. 确认文档

## 使用Claude的拓展思维

1. 明确让Claude仔细思考，开启延伸思考的能力
2. 通过补充安全漏洞和边界情况，来完善思考的结果

通过提示词可以让ClaudeCode更加深度地进行思考，给出更加完善和准确的方案

## 恢复上次的聊天对话

1. `--continue` 自动延续上一次的对话
2. `--resume` 恢复某一次对话

> 恢复对话时会保留原来的模型和配置，使用的工具和结果也会被保留


## 运行多个并行的会话


使用`git worktree`创建多个工作空间，独立地完成各自的任务

## 与shell命名结合使用

1. 将claude与CI/CD结合使用，提供代码审查的能力
2. 结合pipe in和pipe out，可以和shell一起使用，并且可以通过`--output-format`参数指定输出格式为`text`，`json`，`stream-json`

## 自定义/命令

通过自定义命令，可以快速地执行特定的任务

1. 创建commands目录
2. 目录下的每一个文件对应一个自定义命令，文件名即为自定义命令的名字
3. 可以通过`$ARGUMENTS`为自定义命令添加参数

建议这些自定义命令，与项目保持同步，因为这样可以方便的在团队中分享